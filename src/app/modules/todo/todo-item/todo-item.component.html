<div class="drag-container" [dragula]="'test-bag'">
<div class="item" *ngFor="let item of list">
  <div class="content" style="display:flex;">
    <div class="left">
        <mat-checkbox></mat-checkbox>
    </div>
    <div class="middle">
        <mat-form-field class="title" floatLabel="never">
            <input matInput placeholder="New Item" [value]="item.title" (change)="titleChanged(item)">
          </mat-form-field>
    </div>
    <div class="right">
        <fa class="clickable" name="plus" (click)="addChild(item)"></fa>
        <span class="clickable" *ngIf="item.children.length">
          <fa *ngIf="list.isCollapsed" class="fa" name="eye-slash" (click)="collapse(item)"></fa>
          <fa *ngIf="!list.isCollapsed" class="fa" name="eye" (click)="collapse(item)"></fa>
        </span>
        <span *ngIf="item.children.length" class="child-count">({{item.children.length}})</span>
        <span>{{item.id.slice(30)}}</span>
    </div>
  </div>
  <div class="content-hidden" *ngIf="showHiddenContent">
    <div class="desc">{{ item.description }}</div>
    <div class="state">{{ item.state }}</div>
  </div>
  <rave-todo-item 
    *ngIf="item.children.length && !list.isCollapsed" 
    [list]="item.children">
  </rave-todo-item>
</div>
</div>

